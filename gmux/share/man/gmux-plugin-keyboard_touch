NAME
  gmux-plugin-keyboard_touch - virtual touch input simulation using keyboard

SYNOPSIS
  The keyboard_touch plugin provides virtual touch input capabilities by simulating
  touch events using keyboard controls and visual feedback.

DESCRIPTION
  The keyboard_touch plugin extends the gmux system with virtual touch input
  functionality. It allows users to simulate touch events using keyboard navigation,
  providing visual feedback and supporting drag, drop, and multi-touch operations
  through keyboard modifiers. This is particularly useful for systems without
  physical touch input or for precise touch simulation.

FEATURES
  - Virtual touch event simulation
  - Keyboard-based touch navigation
  - Visual touch indicator
  - Drag and drop simulation
  - Multi-touch support with modifiers
  - Configurable touch behavior
  - Real-time visual feedback

ACTIVATION
  The plugin is activated using Alt+H:
  - Press Alt+H to toggle touch mode on/off
  - Visual indicator appears when active
  - Touch events are simulated based on keyboard input

KEYBOARD CONTROLS
  The plugin uses the following keyboard mappings:

  Navigation Keys:
    - W: Move touch point up
    - S: Move touch point down
    - A: Move touch point left
    - D: Move touch point right

  Touch Simulation:
    - J: Simulate touch down (modifier 0)
    - K: Simulate touch down (modifier 1)
    - Alt+H: Toggle touch mode

  Visual Feedback:
    - Blinking indicator shows touch position
    - Indicator color changes based on state
    - Position updates in real-time

TOUCH EVENT TYPES
  The plugin simulates various touch event types:

  Touch Down ($touch):
    - Simulated when J or K is pressed
    - Includes position and modifier information
    - Triggers application touch handlers

  Touch Drag ($drag):
    - Simulated during movement with active touch
    - Continuous position updates
    - Maintains touch state during movement

  Touch Drop ($drop):
    - Simulated when touch is released
    - Clears touch state
    - Finalizes touch operation

MODIFIER SUPPORT
  The plugin supports touch modifiers for multi-touch simulation:
  - Modifier 0: Standard touch (J key)
  - Modifier 1: Secondary touch (K key)
  - Additional modifiers can be extended

VISUAL INDICATOR
  The plugin provides a visual touch indicator:
  - Blinking arrow character (â†–)
  - Positioned at current touch coordinates
  - Color changes based on touch state
  - High layer (1000) for visibility
  - Updates in real-time during movement

TECHNICAL IMPLEMENTATION
  The plugin uses signal filtering for event processing:

  Plugin Structure:
    local windows = require("gmux/frontend/windows")
    local keyboard = require("keyboard")
    
    -- Touch state management
    local enabled = false
    local x, y = 1, 1
    local touch_sent = false
    local modify = 0
    
    -- Signal filter registration
    table.insert(windows.signal_filters, function(signal, source, char, code, player)
        -- Touch event processing
    end)

  Signal Processing:
    - Intercepts keyboard events when Alt is held
    - Processes navigation and touch keys
    - Generates virtual touch events
    - Manages touch state and position

  Event Generation:
    - Creates virtual touch events with proper parameters
    - Includes position, modifier, and operator information
    - Maintains event consistency across operations
    - Handles event timing and state transitions

USAGE SCENARIOS
  The keyboard_touch plugin is useful in various scenarios:

  Development Testing:
    - Test touch-based applications without physical touch
    - Debug touch event handling
    - Validate touch interaction logic
    - Simulate different touch scenarios

  Accessibility:
    - Provide touch input for systems without touch capability
    - Enable precise touch control
    - Support users with mobility limitations
    - Alternative input method

  Application Development:
    - Test touch interfaces during development
    - Validate touch event processing
    - Debug touch-related issues
    - Simulate complex touch interactions

CONFIGURATION
  The plugin is enabled by default in the .enable file:
    {
        keyboard_touch = true
    }

  Plugin settings can be modified in the plugin file:
    - Touch sensitivity
    - Movement speed
    - Visual indicator style
    - Key mappings

ERROR HANDLING
  The plugin includes error handling for:
  - Invalid keyboard events
  - Touch position bounds checking
  - Signal generation failures
  - Visual indicator errors
  - State consistency issues

LIMITATIONS
  - Limited to keyboard-based input
  - No pressure sensitivity simulation
  - Fixed movement granularity
  - No gesture recognition
  - Limited to single touch point

PERFORMANCE CONSIDERATIONS
  The plugin is designed for minimal performance impact:
  - Efficient signal filtering
  - Minimal visual updates
  - Optimized event processing
  - Low memory footprint
  - Fast response times

SEE ALSO
  gmux(1), gmux-plugin(1), gmux-plugin-screen_keyboard(1) 